<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>My PhD project | rsatapat</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="My PhD project" />
<meta name="author" content="rsatapat" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="For my PhD, I studied how the invertebrate visual system guides locomotion. In simpler terms, I studied how fruit flies see and walk. Yes, I am aware of the irony." />
<meta property="og:description" content="For my PhD, I studied how the invertebrate visual system guides locomotion. In simpler terms, I studied how fruit flies see and walk. Yes, I am aware of the irony." />
<link rel="canonical" href="http://localhost:4000/blogs/Phd-blog/" />
<meta property="og:url" content="http://localhost:4000/blogs/Phd-blog/" />
<meta property="og:site_name" content="rsatapat" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-03-30T00:00:00+01:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="My PhD project" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"rsatapat","url":"rsatapat.github.io"},"dateModified":"2025-03-30T00:00:00+01:00","datePublished":"2025-03-30T00:00:00+01:00","description":"For my PhD, I studied how the invertebrate visual system guides locomotion. In simpler terms, I studied how fruit flies see and walk. Yes, I am aware of the irony.","headline":"My PhD project","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/blogs/Phd-blog/"},"url":"http://localhost:4000/blogs/Phd-blog/"}</script>
<!-- End Jekyll SEO tag -->
<link rel="canonical" href="https://rsatapat.github.io/" />
  <meta property="og:url" content="https://rsatapat.github.io/" />
  <!-- add bootstrap-min locally -->
  <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
  <!-- for adding fonts locally -->
  <link id="main-stylesheet" rel="stylesheet" href="/assets/css/style.css">
  <!-- for adding fonts via cdn -->
  <!-- <link href="https://api.fontshare.com/v2/css?f[]=cabinet-grotesk@400,700&display=swap" rel="stylesheet"> --><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="rsatapat" />
</head>
<body><link id="fa-stylesheet" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css">

<header class="site-header">
  <div class="wrapper">
    <!-- use this to add any page (blogs or projects) such that its easily clickable on mobile
    <a class="site-title" rel="author" href="/">rsatapat</a> -->
    <div class="socials-container"><a class="header-socials" rel="me" href="https://github.com/rsatapat" target="_blank" title="My GitHub profile" style="text-decoration: none;">
        <span class="grey fa-brands fa-github fa-2x"></span>
      </a><a class="header-socials" rel="me" href="https://www.linkedin.com/in/rsatapat/" target="_blank" title="My LinkedIn profile" style="text-decoration: none;">
        <span class="grey fa-brands fa-linkedin fa-2x"></span>
      </a></div>
      <nav class="site-nav">
        <input type="checkbox" id="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon"></span>
        </label>
        <div class="nav-items">
  <a class="nav-item " rel="author" href="/">about me</a>
  <a class="nav-item" href="/assets/Roshan_Resume.pdf" target="_blank">cv</a>
  
  <a class="nav-item active" href="/blogs/">blogs</a>
  
  <a class="nav-item " href="/projects/">projects</a>
</div>

      </nav>

  </div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">My PhD project</h1>
    <div class="post-meta">
      <time class="dt-published" datetime="2025-03-30T00:00:00+01:00" itemprop="datePublished">
        30-03-2025
      </time>
    </div>
    
      <div class="mt-3">
        
          <a href="/blogs-tags/phd/" class="badge bg-dark text-white me-1" 
                    style="font-size: 1.1em; text-decoration: none !important;">
   phd
</a>
        
      </div>
    
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p><strong><em>Title of thesis: Mechanisms of visual integration and competition in innate behaviours in Drosophila melanogaster</em></strong></p>

<h3 id="the-background">The background</h3>
<p>For my PhD, I studied how the invertebrate visual system guides locomotion. In simpler terms, I studied how fruit flies (<a href="https://en.wikipedia.org/wiki/Drosophila_melanogaster"><em>Drosophila melanogaster</em></a>) see and walk (yes, I’m aware of the irony). As the title of my thesis suggests, I focused on how the fly’s brain assimilates visual stimuli (via integration or competition) to generate appropriate movement. Though I used fruit flies as a model, the underlying problem: how animals reconcile conflicting sensory inputs, is universal.</p>

<p>My PhD involved two main projects addressing complementary aspects of perception:</p>
<ol>
  <li>Integration: How are visual stimuli from both halves of the visual field combined/integrated to produce appropriate behaviour?<br />
For my thesis, visual stimuli = motion cues and appropriate behaviour = optomotor response.</li>
  <li>Competition: How does a fly, engaged in a visual task, respond when shown another distracting visual stimulus?<br />
For my thesis, “visual task” = “visual tracking of female by male fly during courtship” and “distrating visual stimulus” = “a visual stimulus that triggers the optomotor response”.</li>
</ol>

<h2 id="methods">Methods</h2>
<h3 id="behavioural-setup">Behavioural setup</h3>
<p>I first designed and built a behavioral setup to record locomotion and present visual stimuli to freely walking fruit flies in a closed-loop manner. This setup enabled the study of innate visually guided behaviors, such as the optomotor response and courtship.<br />
The setup consisted of a flat horizontal plate on which the fly could walk. A camera placed underneath recorded its movements, while a projector mounted above displayed various visual patterns on the roof of the arena.</p>

<div class="row mt-3 align-items-center">
    <div class="col-sm-6 mt-3 mt-md-0">
        




<figure>
  <picture>
    
      
        <source class="responsive-img-srcset" srcset="/assets/thesis_assets/experiment_setup_schematic-480.webp 480w,/assets/thesis_assets/experiment_setup_schematic-800.webp 800w,/assets/thesis_assets/experiment_setup_schematic-1400.webp 1400w," type="image/webp" sizes="95vw" />
      
    
    <img src="/assets/thesis_assets/experiment_setup_schematic.png" class="img-fluid rounded" width="80%" height="auto" title="example image" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" />
  </picture>

  
</figure>

    </div>
    <div class="col-sm-6 mt-3 mt-md-0">
        

<figure>
  
    <video src="/assets/thesis_assets/CantonS_optomotor.mp4" class="img-fluid rounded" width="100%" height="auto" title="example image" autoplay="" controls="" loop="">
    </video>  

  
  
</figure>

    </div>
</div>
<div class="caption">
    Left, Schematic of behavioural setup. The fly walks on a flat horizontal arena and the visual stimulus (in this case, a pinwheel) is projected onto the roof of the arena. Right, Example video of one trial in the behavioural setup
</div>

<h3 id="code-to-run-the-experiments">Code to run the experiments</h3>
<p>The code to run the experiments and save the data were written in Python.<br />
Python libraries used:</p>
<ul>
  <li><a href="https://opencv.org/">OpenCV</a> for computer vision</li>
  <li><a href="https://www.psychopy.org/">PsychoPy</a> for presenting visual stimulus</li>
</ul>

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        




<figure>
  <picture>
    
      
        <source class="responsive-img-srcset" srcset="/assets/thesis_assets/experiment_loop_schematic-480.webp 480w,/assets/thesis_assets/experiment_loop_schematic-800.webp 800w,/assets/thesis_assets/experiment_loop_schematic-1400.webp 1400w," type="image/webp" sizes="95vw" />
      
    
    <img src="/assets/thesis_assets/experiment_loop_schematic.png" class="img-fluid rounded" width="90%" height="auto" title="closed loop visual stimulus schematic" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" />
  </picture>

  
    <figcaption class="caption">Schematic of the closed-loop visual experiment. Fly behavior was sampled at 60 Hz. There was a total delay of &lt; 50 ms (3 frames) betweem capturing fly behaviour and presenting the updated stimulus.</figcaption>
  
</figure>

    </div>
</div>

<pre><code class="language-pseudocode">define total_trial_num
define frames_per_trial

while trial&lt;frames_per_trial
    while frame&lt;frame_num
        grab image from camera
        extract location (loc) and orientaion (ori) of fly
        define parameters of stimulus using loc and ori
        send stimulus parameters to project
        projector shows updated stimulus
        save loc and ori to a csv file
        save image to a video
        frame=frame+1
    trial=trial+1
</code></pre>
<p>Each loop to  correspondeds to one frame of the video</p>

<h2 id="data">Data</h2>
<p>Each experimental session was divided into multiple trials with randomized stimulus parameters. The raw output included:</p>
<ul>
  <li>A cropped video centered on the fly (to save space)</li>
  <li>A CSV file with frame-by-frame location, orientation, and timestamps</li>
  <li>A JSON file with session and trial metadata (e.g., date, time, fly sex, stimulus parameters)
For preprocessing, data from the CSV and JSON files were merged into 2D NumPy arrays, with each row representing a trial and each column a video frame. These numpy arrays were then used for further analysis.</li>
</ul>

<p>To know more about the details of the data formats that I used and my thoughts regarding data please go <a href="link to blog post">here</a></p>

<h3 id="optomotor-response-in-walking-fruitflies">Optomotor response in walking fruitflies</h3>
<p>While walking in a straight line might seem trivial, it is anything but. Constant adjustments are required to maintain a straight trajectory. And constant feedback, in the form of visual cues, is needed to perform these adjustments. Visual cues help us judge our motion and make the necessary corrections in real time. This process has been studied extensively in insects, particularly in fruit flies, through a behavior known as the optomotor response. When an insect is exposed to global rotational motion, it begins to turn in the direction of that motion. This happens because the visual system is tricked into interpreting external motion as self-motion. In response, the fly turns to cancel out the perceived motion and thereby maintain a straight path.</p>

<div class="row mt-3 align-items-end">
    <div class="col-sm-6 mt-3 mt-md-0">
        

<figure>
  
    <video src="/assets/thesis_assets/CantonS_optomotor.mp4" class="img-fluid rounded" width="90%" height="auto" title="fruitfly courtship with optogenetic activation" autoplay="" controls="" loop="">
    </video>  

  
  
</figure>

    </div>
    <div class="col-sm-6 mt-3 mt-md-0">
        




<figure>
  <picture>
    
      
        <source class="responsive-img-srcset" srcset="/assets/thesis_assets/CantonS_Full_response-480.webp 480w,/assets/thesis_assets/CantonS_Full_response-800.webp 800w,/assets/thesis_assets/CantonS_Full_response-1400.webp 1400w," type="image/webp" sizes="95vw" />
      
    
    <img src="/assets/thesis_assets/CantonS_Full_response.png" class="img-fluid rounded" width="100%" height="auto" title="example image" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" />
  </picture>

  
</figure>

    </div>
</div>
<div class="caption">
    Left (Top), Example video showing an optomotor response in our behavioural setup. Right (Bottom), Quantification of optomotor response with data pooled from 10 flies. Once the stimulus starts (dashed line), the flies consistently turn in the direction of the rotating pinwheel
</div>

<h3 id="fruitfly-courtship">Fruitfly courtship</h3>
<p>When a male and female fruit fly are introduced into the behavioral arena, the male begins to track or chase the female in an attempt to mate. This courtship behavior relies on multiple sensory modalities (visual, olfactory, and gustatory) but is primarily guided by visual cues.</p>

<div class="row mt-3 align-items-center">
    <div class="col-sm-6 mt-3 mt-md-0">
        

<figure>
  
    <video src="/assets/thesis_assets/courtship.mp4" class="img-fluid rounded" width="90%" height="auto" title="fruitfly courtship, male fly tracks female" autoplay="" controls="" loop="">
    </video>  

  
  
</figure>

    </div>
    <div class="col-sm-6 mt-3 mt-md-0">
        




<figure>
  <picture>
    
      
        <source class="responsive-img-srcset" srcset="/assets/thesis_assets/fly_courtship_analysis-480.webp 480w,/assets/thesis_assets/fly_courtship_analysis-800.webp 800w,/assets/thesis_assets/fly_courtship_analysis-1400.webp 1400w," type="image/webp" sizes="95vw" />
      
    
    <img src="/assets/thesis_assets/fly_courtship_analysis.png" class="img-fluid rounded" width="100%" height="auto" title="example image" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" />
  </picture>

  
</figure>

    </div>
</div>
<div class="caption">
    Left (Top), Example video showing the male fly tracking the female. The two flies are shown in the inset at the top. Right (Bottom), Quantification of tracking behaviour with data pooled from 15 flies. 
</div>

<h3 id="optogenetically-induced-fruitfly-courtship">Optogenetically induced fruitfly courtship</h3>
<p>Interestingly, the same behaviour can be induced by optogenetically activating the P1 neurons in the fly’s brain. This triggers such a high level of arousal in the male that it begins to chase any visual stimulus even vaguely resembling a female. We exploit this response to make the male track a simple black dot.</p>

<div class="row mt-3 align-items-end">
    <div class="col-sm-6 mt-3 mt-md-0">
        

<figure>
  
    <video src="/assets/thesis_assets/artificial_courtship.mp4" class="img-fluid rounded" width="90%" height="auto" title="fruitfly courtship with optogenetic activation" autoplay="" controls="" loop="">
    </video>  

  
  
</figure>

    </div>
    <div class="col-sm-6 mt-3 mt-md-0">
        




<figure>
  <picture>
    
      
        <source class="responsive-img-srcset" srcset="/assets/thesis_assets/basic_optogenetic_no_optomotor-480.webp 480w,/assets/thesis_assets/basic_optogenetic_no_optomotor-800.webp 800w,/assets/thesis_assets/basic_optogenetic_no_optomotor-1400.webp 1400w," type="image/webp" sizes="95vw" />
      
    
    <img src="/assets/thesis_assets/basic_optogenetic_no_optomotor.png" class="img-fluid rounded" width="100%" height="auto" title="example image" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" />
  </picture>

  
</figure>

    </div>
</div>
<div class="caption">
    Left (Top), Example video showing an optogenetically stimulated male fly tracking a dot. Right (Bottom), Quantification of tracking behaviour with data pooled from 10 flies. 
</div>

  </div>

  <a class="u-url" href="/blogs/Phd-blog/" hidden></a>
</article>

      </div>
    </main>

    <!--<link id="fa-stylesheet" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css">

<footer class="site-footer h-card">
  <data class="u-url" value="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <ul class="contact-list">
          <li class="p-name">rsatapat</li>
          <li><a class="u-email" href="mailto:rsatapat@yahoo.com">rsatapat@yahoo.com</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <p>Personal website of Roshan showcasing projects and blogs. My interests: Data science, Data analysis, Python, Behavioural neroscience</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li>
    <a rel="me" href="https://github.com/rsatapat" target="_blank" title="My GitHub profile">
      <span class="grey fa-brands fa-github fa-lg"></span>
    </a>
  </li><li>
    <a rel="me" href="https://www.linkedin.com/in/rsatapat/" target="_blank" title="My LinkedIn profile">
      <span class="grey fa-brands fa-linkedin fa-lg"></span>
    </a>
  </li></ul>
</div>

  </div>

</footer>

-->

  </body>

</html>
